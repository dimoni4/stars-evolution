<!DOCTYPE html>
<!--
	Transit by TEMPLATED
	templated.co @templatedco
	Released for free under the Creative Commons Attribution 3.0 license (templated.co/license)
-->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Generic - Transit by TEMPLATED</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <meta name="description" content=""/>
    <meta name="keywords" content=""/>
    <!--[if lte IE 8]>
    <script src="js/html5shiv.js"></script><![endif]-->
    <script src="js/jquery.min.js"></script>
    <script src="js/skel.min.js"></script>
    <script src="js/skel-layers.min.js"></script>
    <script src="js/init.js"></script>
    <script src="js/data.js"></script>


    <script src="js/lib/jquery-ui.js"></script>
    <script src="js/lib/three.min.js"></script>
    <script src="js/lib/sylvester.js" type="text/javascript"></script>
    <script src="js/lib/glUtils.js" type="text/javascript"></script>
    <script src="js/lib/sceneNode.js" type="text/javascript"></script>
    <script src="js/lib/Three.js"></script>
    <script src="js/lib/Detector.js"></script>
    <script src="js/lib/Stats.js"></script>
    <script src="js/lib/OrbitControls.js"></script>
    <script src="js/lib/THREEx.KeyboardState.js"></script>
    <script src="js/lib/THREEx.FullScreen.js"></script>
    <script src="js/lib/THREEx.WindowResize.js"></script>
    <script src="js/lib/info.js"></script>
    <script src="js/lib/FBOUtils.js"></script>
    <script src="js/lib/OrbitControls2.js"></script>
    <script src="js/lib/dat.gui.min.js"></script>

    <script id="vertexShader" type="x-shader/x-vertex">
        uniform sampler2D noiseTexture;
        uniform float noiseScale;

        uniform sampler2D bumpTexture;
        uniform float bumpSpeed;
        uniform float bumpScale;

        uniform float time;

        varying vec2 vUv;

        void main()
        {
            vUv = uv;

            vec2 uvTimeShift = vUv + vec2( 1.1, 1.9 ) * time * bumpSpeed;
            vec4 noiseGeneratorTimeShift = texture2D( noiseTexture, uvTimeShift );
            vec2 uvNoiseTimeShift = vUv + noiseScale * vec2( noiseGeneratorTimeShift.r, noiseGeneratorTimeShift.g );
            // below, using uvTimeShift seems to result in more of a "rippling" effect
            //   while uvNoiseTimeShift seems to result in more of a "shivering" effect
            vec4 bumpData = texture2D( bumpTexture, uvTimeShift );

            // move the position along the normal
            //  but displace the vertices at the poles by the same amount
            float displacement = ( vUv.y > 0.999 || vUv.y < 0.001 ) ?
                bumpScale * (0.3 + 0.02 * sin(time)) :
                bumpScale * bumpData.r;
            vec3 newPosition = position + normal * displacement;

            gl_Position = projectionMatrix * modelViewMatrix * vec4( newPosition, 1.0 );
        }

    </script>
    <script id="fragmentShader" type="x-shader/x-vertex">
        uniform sampler2D baseTexture;
        uniform float baseSpeed;
        uniform float repeatS;
        uniform float repeatT;

        uniform sampler2D noiseTexture;
        uniform float noiseScale;

        uniform sampler2D blendTexture;
        uniform float blendSpeed;
        uniform float blendOffset;

        uniform float time;
        uniform float alpha;

        varying vec2 vUv;

        void main()
        {
            vec2 uvTimeShift = vUv + vec2( -0.7, 1.5 ) * time * baseSpeed;
            vec4 noiseGeneratorTimeShift = texture2D( noiseTexture, uvTimeShift );
            vec2 uvNoiseTimeShift = vUv + noiseScale * vec2( noiseGeneratorTimeShift.r, noiseGeneratorTimeShift.b );
            vec4 baseColor = texture2D( baseTexture, uvNoiseTimeShift * vec2(repeatS, repeatT) );

            vec2 uvTimeShift2 = vUv + vec2( 1.3, -1.7 ) * time * blendSpeed;
            vec4 noiseGeneratorTimeShift2 = texture2D( noiseTexture, uvTimeShift2 );
            vec2 uvNoiseTimeShift2 = vUv + noiseScale * vec2( noiseGeneratorTimeShift2.g, noiseGeneratorTimeShift2.b );
            vec4 blendColor = texture2D( blendTexture, uvNoiseTimeShift2 * vec2(repeatS, repeatT) ) - blendOffset * vec4(1.0, 1.0, 1.0, 1.0);

            vec4 theColor = baseColor + blendColor;
            theColor.a = alpha;
            gl_FragColor = theColor;
        }

    </script>

    <script>
        window.onload = function () {
            //первая звезда в массе
            $('#main').load('stars/protostar.html');
        };
    </script>
    <noscript>
        <link rel="stylesheet" href="css/skel.css"/>
        <link rel="stylesheet" href="css/style.css"/>
        <link rel="stylesheet" href="css/style-xlarge.css"/>
    </noscript>
</head>
<body>

<!-- Header -->
<header id="header"></header>

<!-- Main -->
<section class="wrapper style2">
    <div class="container">
        <div class="row">
            <a href="#" class="button alt icon fa-angle-left">Масса 1</a>
            <a href="#" class="button alt pull-right">Масса 22 <i class="fa fa-angle-right"></i></a>
        </div>
    </div>
</section>
<section class="wrapper slider">
    <div class="container">
        <div class="row image fit">
            <section class="4u">
                <img src="images/menu/protostar.jpg" onclick="$('#main').load('stars/protostar.html');"/>
            </section>
            <section class="4u">
                <img src="images/menu/bluesupergiant.jpeg" onclick="$('#main').load('stars/bluesupergiant.html');"/>
            </section>
            <section class="4u">
                <img src="images/menu/supernova.jpg" onclick="$('#main').load('stars/supernova.html');"/>
            </section>
        </div>
    </div>
</section>


<!-- Main -->
<section id="main" class="wrapper"></section>

<!-- Footer -->
<footer id="footer"></footer>
</body>
</html>